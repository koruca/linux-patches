From 0015099a9fcd59bdd40fb95150a3f82602fb868b Mon Sep 17 00:00:00 2001
From: Katsuya Matsubara <matsu@igel.co.jp>
Date: Thu, 31 May 2012 15:19:49 +0900
Subject: [PATCH 45/73] rcarvin: initialize the MTC register for memory transfer

According to the hardware manual, the MTC register must be initialized
with 0x0a090008.
---
 drivers/media/video/rcarvin.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/drivers/media/video/rcarvin.c b/drivers/media/video/rcarvin.c
index 5b48346..fa7d189 100644
--- a/drivers/media/video/rcarvin.c
+++ b/drivers/media/video/rcarvin.c
@@ -396,6 +396,9 @@ static int rcar_vin_capture(struct rcar_vin_dev *pcdev)
 	/* disable interrupt */
 	vin_write(pcdev, V0IE, 0x00000000);
 
+	/* set priority for memory transfer */
+	vin_write(pcdev, V0MTC, 0x0a090008);
+
 	switch (pcdev->field) {
 	case V4L2_FIELD_TOP:
 		field = VIN_VNMC_IM_ODD;
-- 
1.7.0.4

