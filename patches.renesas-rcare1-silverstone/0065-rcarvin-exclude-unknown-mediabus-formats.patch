From 21d94ba110c5e47b2b758c2f746a7355b9502345 Mon Sep 17 00:00:00 2001
From: Katsuya Matsubara <matsu@igel.co.jp>
Date: Wed, 20 Jun 2012 14:52:32 +0900
Subject: [PATCH 65/73] rcarvin: exclude unknown mediabus formats

This removes the function 'rcar_vin_packing_supported()' which
decides whether unknown mediabus formats should be supported
according to its packing type.
---
 drivers/media/video/rcarvin.c |   13 +------------
 1 files changed, 1 insertions(+), 12 deletions(-)

diff --git a/drivers/media/video/rcarvin.c b/drivers/media/video/rcarvin.c
index cea3dd9..3664aa4 100644
--- a/drivers/media/video/rcarvin.c
+++ b/drivers/media/video/rcarvin.c
@@ -1089,16 +1089,6 @@ static const struct soc_mbus_pixelfmt rcar_vin_formats[] = {
 	},
 };
 
-/* This will be corrected as we get more formats */
-static bool rcar_vin_packing_supported(const struct soc_mbus_pixelfmt *fmt)
-{
-	return	fmt->packing == SOC_MBUS_PACKING_NONE ||
-		(fmt->bits_per_sample == 8 &&
-		 fmt->packing == SOC_MBUS_PACKING_2X8_PADHI) ||
-		(fmt->bits_per_sample > 8 &&
-		 fmt->packing == SOC_MBUS_PACKING_EXTEND16);
-}
-
 static int client_g_rect(struct v4l2_subdev *sd, struct v4l2_rect *rect);
 
 static int rcar_vin_get_formats(struct soc_camera_device *icd, unsigned int idx,
@@ -1227,8 +1217,7 @@ static int rcar_vin_get_formats(struct soc_camera_device *icd, unsigned int idx,
 		}
 		break;
 	default:
-		if (!rcar_vin_packing_supported(fmt))
-			return 0;
+		return 0;
 	}
 
 	return formats;
-- 
1.7.0.4

